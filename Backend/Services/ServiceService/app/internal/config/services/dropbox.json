{
  "provider": "dropbox",
  "name": "dropbox",
  "label": "Dropbox",
  "icon_url": "",
  "actions": [
    {
      "title": "dropbox_new_file",
      "label": "Dropbox - New File Added",
      "type": "webhook",
      "fields": [
        {
          "name": "folder",
          "type": "text",
          "label": "Dossier surveillé",
          "required": true,
          "default": "/"
        }
      ],
      "output_fields": [
        {
          "name": "file_name",
          "type": "text",
          "label": "Nom du fichier"
        },
        {
          "name": "path",
          "type": "text",
          "label": "Chemin"
        }
      ]
    },
    {
      "title": "dropbox_file_updated",
      "label": "Dropbox - File Updated",
      "type": "webhook",
      "fields": [
        {
          "name": "folder",
          "type": "text",
          "label": "Dossier surveillé",
          "required": true,
          "default": "/"
        }
      ],
      "output_fields": [
        {
          "name": "file_name",
          "type": "text",
          "label": "Nom du fichier"
        },
        {
          "name": "updated_at",
          "type": "text",
          "label": "Mis à jour le"
        }
      ]
    },
    {
      "title": "dropbox_new_folder",
      "label": "Dropbox - New Folder Created",
      "type": "webhook",
      "fields": [
        {
          "name": "parent_folder",
          "type": "text",
          "label": "Dossier parent",
          "required": true,
          "default": "/"
        }
      ],
      "output_fields": [
        {
          "name": "folder_name",
          "type": "text",
          "label": "Nom du dossier"
        }
      ]
    }
  ],
  "reactions": [
    {
      "title": "dropbox_upload_file",
      "label": "Dropbox - Upload a File",
      "url": "https://content.dropboxapi.com/2/files/upload",
      "method": "POST",
      "bodyType": "binary",
      "fields": [
        {
          "name": "path",
          "type": "text",
          "label": "Chemin du fichier (ex: /docs/file.txt)",
          "required": true
        },
        {
          "name": "content",
          "type": "textarea",
          "label": "Contenu du fichier",
          "required": true
        }
      ]
    },
    {
      "title": "dropbox_create_folder",
      "label": "Dropbox - Create Folder",
      "url": "https://api.dropboxapi.com/2/files/create_folder_v2",
      "method": "POST",
      "bodyType": "json",
      "fields": [
        {
          "name": "path",
          "type": "text",
          "label": "Chemin du dossier",
          "required": true
        }
      ]
    },
    {
      "title": "dropbox_move_file",
      "label": "Dropbox - Move File",
      "url": "https://api.dropboxapi.com/2/files/move_v2",
      "method": "POST",
      "bodyType": "json",
      "fields": [
        {
          "name": "from_path",
          "type": "text",
          "label": "Chemin du fichier",
          "required": true
        },
        {
          "name": "to_path",
          "type": "text",
          "label": "Nouveau chemin",
          "required": true
        }
      ]
    }
  ]
}
