{
  "provider": "",
  "name": "newsapi",
  "label": "NewsAPI",
  "icon_url": "",
  "logo_url": "https://cdn-icons-png.flaticon.com/512/21/21601.png",
  "actions": [
    {
      "title": "news_breaking_headline",
      "label": "News - Dernières actualités (polling)",
      "type": "polling",
      "fields": [
        { "name": "api_key", "type": "password", "label": "Clé API NewsAPI", "required": true, "default": "" },
        { "name": "country", "type": "text", "label": "Code pays (ex: us, fr)", "required": false, "default": "us" },
        { "name": "category", "type": "text", "label": "Catégorie (business, sports...)", "required": false, "default": "general" },
        { "name": "page_size", "type": "number", "label": "Nombre max d'articles", "required": false, "default": "10" },
        { "name": "endpoint", "type": "text", "label": "Endpoint NewsAPI (ne pas modifier)", "required": true, "default": "top-headlines" }
      ],
      "output_fields": [
        { "name": "title", "type": "text", "label": "Titre" },
        { "name": "description", "type": "text", "label": "Description" },
        { "name": "url", "type": "text", "label": "Lien" },
        { "name": "source", "type": "text", "label": "Source" },
        { "name": "publishedAt", "type": "text", "label": "Publié le" }
      ]
    },
    {
      "title": "news_keyword_match",
      "label": "News - Correspondance par mot-clé (polling)",
      "type": "polling",
      "fields": [
        { "name": "api_key", "type": "password", "label": "Clé API NewsAPI", "required": true, "default": "" },
        { "name": "query", "type": "text", "label": "Mot-clé ou requête", "required": true, "default": "" },
        { "name": "language", "type": "text", "label": "Langue (ex: en, fr)", "required": false, "default": "en" },
        { "name": "sort_by", "type": "text", "label": "Tri (publishedAt, relevance)", "required": false, "default": "publishedAt" },
        { "name": "page_size", "type": "number", "label": "Nombre max d'articles", "required": false, "default": "10" },
        { "name": "endpoint", "type": "text", "label": "Endpoint NewsAPI (ne pas modifier)", "required": true, "default": "everything" }
      ],
      "output_fields": [
        { "name": "title", "type": "text", "label": "Titre" },
        { "name": "description", "type": "text", "label": "Description" },
        { "name": "url", "type": "text", "label": "Lien" },
        { "name": "publishedAt", "type": "text", "label": "Publié le" },
        { "name": "source", "type": "text", "label": "Source" }
      ]
    }
  ],
  "reactions": [
    {
      "title": "news_fetch_headlines",
      "label": "News - Fetch Top Headlines",
      "url": "https://newsapi.org/v2/top-headlines?country={{country}}&category={{category}}&pageSize={{page_size}}&apiKey={{api_key}}",
      "method": "GET",
      "bodyType": "json",
      "fields": [
        { "name": "api_key", "type": "password", "label": "API Key", "required": true, "default": "" },
        { "name": "country", "type": "text", "label": "Country code", "required": false, "default": "us" },
        { "name": "category", "type": "text", "label": "Category", "required": false, "default": "general" },
        { "name": "page_size", "type": "number", "label": "Results count", "required": false, "default": "10" }
      ],
      "body_struct": []
    },
    {
      "title": "news_search_keyword",
      "label": "News - Search by Keyword",
      "url": "https://newsapi.org/v2/everything?q={{query}}&language={{language}}&sortBy={{sort_by}}&pageSize={{page_size}}&apiKey={{api_key}}",
      "method": "GET",
      "bodyType": "json",
      "fields": [
        { "name": "api_key", "type": "password", "label": "API Key", "required": true, "default": "" },
        { "name": "query", "type": "text", "label": "Query", "required": true, "default": "" },
        { "name": "language", "type": "text", "label": "Language", "required": false, "default": "en" },
        { "name": "sort_by", "type": "text", "label": "Sort by", "required": false, "default": "publishedAt" },
        { "name": "page_size", "type": "number", "label": "Results count", "required": false, "default": "10" }
      ],
      "body_struct": []
    }
  ]
}
