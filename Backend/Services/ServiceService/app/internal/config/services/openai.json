{
  "provider": "",
  "name": "openai",
  "label": "OpenAI",
  "icon_url": "",
  "logo_url": "https://cdn.simpleicons.org/openai/412991",
  "actions": [
    {
      "title": "prompt_scheduled",
      "label": "Planifier une demande OpenAI",
      "type": "cron",
      "fields": [
        {
          "name": "delay",
          "type": "number",
          "label": "Délai avant exécution (secondes)",
          "required": true,
          "default": "0"
        },
        {
          "name": "prompt",
          "type": "textarea",
          "label": "Instruction",
          "required": true,
          "default": ""
        },
        {
          "name": "text",
          "type": "textarea",
          "label": "Texte à inclure (optionnel)",
          "required": false,
          "default": ""
        },
        {
          "name": "model",
          "type": "text",
          "label": "Modèle",
          "required": true,
          "default": "gpt-4o-mini"
        },
        {
          "name": "api_key",
          "type": "password",
          "label": "Clé API (laisse vide pour utiliser OPENAI_API_KEY)",
          "required": false,
          "default": ""
        }
      ],
      "output_fields": [
        { "name": "prompt", "type": "text", "label": "Instruction" },
        { "name": "text", "type": "text", "label": "Texte" },
        { "name": "model", "type": "text", "label": "Modèle" },
        { "name": "api_key", "type": "text", "label": "Clé API" }
      ]
    },
    {
      "title": "summarize_scheduled",
      "label": "Planifier un résumé",
      "type": "cron",
      "fields": [
        {
          "name": "delay",
          "type": "number",
          "label": "Délai avant exécution (secondes)",
          "required": true,
          "default": "0"
        },
        {
          "name": "text",
          "type": "textarea",
          "label": "Texte à résumer",
          "required": true,
          "default": ""
        },
        {
          "name": "model",
          "type": "text",
          "label": "Modèle",
          "required": true,
          "default": "gpt-4o-mini"
        },
        {
          "name": "api_key",
          "type": "password",
          "label": "Clé API (laisse vide pour utiliser OPENAI_API_KEY)",
          "required": false,
          "default": ""
        }
      ],
      "output_fields": [
        { "name": "text", "type": "text", "label": "Texte" },
        { "name": "model", "type": "text", "label": "Modèle" },
        { "name": "api_key", "type": "text", "label": "Clé API" }
      ]
    }
  ],
  "reactions": [
    {
      "title": "generate_text",
      "label": "OpenAI - Generate Text",
      "url": "https://api.openai.com/v1/chat/completions",
      "method": "POST",
      "bodyType": "json",
      "fields": [
        {
          "name": "prompt",
          "type": "textarea",
          "label": "Instruction",
          "required": true,
          "default": ""
        },
        {
          "name": "text",
          "type": "textarea",
          "label": "Texte à traiter (optionnel)",
          "required": false,
          "default": ""
        },
        {
          "name": "model",
          "type": "text",
          "label": "Modèle",
          "required": true,
          "default": "gpt-4o-mini"
        },
        {
          "name": "api_key",
          "type": "password",
          "label": "Clé API (laisse vide pour utiliser OPENAI_API_KEY)",
          "required": false,
          "default": ""
        }
      ],
      "body_struct": [
        {
          "path": "model",
          "type": "text",
          "value": "{{model}}"
        },
        {
          "path": "messages",
          "type": "array",
          "value": [
            {
              "path": "",
              "type": "object",
              "value": [
                {
                  "path": "role",
                  "type": "text",
                  "value": "user"
                },
                {
                  "path": "content",
                  "type": "text",
                  "value": "{{prompt}}\n\nTexte:\n{{text}}"
                }
              ]
            }
          ]
        }
      ]
    },
    {
      "title": "summarize_text",
      "label": "OpenAI - Summarize Text",
      "url": "https://api.openai.com/v1/chat/completions",
      "method": "POST",
      "bodyType": "json",
      "fields": [
        {
          "name": "text",
          "type": "textarea",
          "label": "Texte à résumer",
          "required": true,
          "default": ""
        },
        {
          "name": "model",
          "type": "text",
          "label": "Modèle",
          "required": true,
          "default": "gpt-4o-mini"
        },
        {
          "name": "api_key",
          "type": "password",
          "label": "Clé API (laisse vide pour utiliser OPENAI_API_KEY)",
          "required": false,
          "default": ""
        }
      ],
      "body_struct": [
        {
          "path": "model",
          "type": "text",
          "value": "{{model}}"
        },
        {
          "path": "messages",
          "type": "array",
          "value": [
            {
              "path": "",
              "type": "object",
              "value": [
                {
                  "path": "role",
                  "type": "text",
                  "value": "system"
                },
                {
                  "path": "content",
                  "type": "text",
                  "value": "Summarize the following text in a clear and concise way."
                }
              ]
            },
            {
              "path": "",
              "type": "object",
              "value": [
                {
                  "path": "role",
                  "type": "text",
                  "value": "user"
                },
                {
                  "path": "content",
                  "type": "text",
                  "value": "{{text}}"
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}
