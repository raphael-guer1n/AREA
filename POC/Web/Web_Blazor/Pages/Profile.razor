@page "/profile"

<PageTitle>Profil</PageTitle>

<h1>Profil</h1>

@if (!AuthState.IsAuthenticated)
{
    <p>Redirection vers la connexion...</p>
}
else
{
    <p>Voici les informations avec lesquelles tu es connect√© :</p>
    <dl class="row">
        <dt class="col-sm-3">Email</dt>
        <dd class="col-sm-9">@AuthState.Email</dd>
        <dt class="col-sm-3">Mot de passe</dt>
        <dd class="col-sm-9">@AuthState.Password</dd>
    </dl>
}

@code {
    [Inject] private AuthState AuthState { get; set; } = default!;
    [Inject] private NavigationManager Navigation { get; set; } = default!;

    protected override void OnInitialized()
    {
        if (!AuthState.IsAuthenticated)
        {
            Navigation.NavigateTo("/login", replace: true);
        }
    }
}
